<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VSF Documented: VSF &ndash; Versaloon Software Framework</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VSF Documented
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.8 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>首页</span></a></li>
      <li class="current"><a href="pages.html"><span>相关页面</span></a></li>
      <li><a href="topics.html"><span>Topics</span></a></li>
      <li><a href="namespaces.html"><span>命名空间</span></a></li>
      <li><a href="annotated.html"><span>结构体</span></a></li>
      <li><a href="files.html"><span>文件</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">VSF &ndash; Versaloon Software Framework</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md39"></a> <a href="https://github.com/vsfteam/vsf/blob/master/LICENSE"><img src="https://img.shields.io/github/license/vsfteam/vsf.svg" alt="GitHub" style="pointer-events: none;" class="inline"/></a></p>
<p><a href="https://github.com/vsfteam/vsf/actions/workflows/windows-build.yml"><img src="https://github.com/vsfteam/vsf/actions/workflows/windows-build.yml/badge.svg" alt="windows-build" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/vsfteam/vsf/actions/workflows/cmake-native-build.yml"><img src="https://github.com/vsfteam/vsf/actions/workflows/cmake-native-build.yml/badge.svg" alt="cmake-native-build" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/vsfteam/vsf/actions/workflows/cmake-arm-cross-build.yml"><img src="https://github.com/vsfteam/vsf/actions/workflows/cmake-arm-cross-build.yml/badge.svg" alt="cmake-arm-cross-build" style="pointer-events: none;" class="inline"/></a></p>
<p><a href="https://github.com/vsf-linux/vsf.linux/actions/workflows/windows-build.yml"><img src="https://github.com/vsf-linux/vsf.linux/actions/workflows/windows-build.yml/badge.svg?branch=vsf-sync" alt="vsf.linux windows build" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/vsf-linux/vsf.linux/actions/workflows/cmake-arm-cross-build.yml"><img src="https://github.com/vsf-linux/vsf.linux/actions/workflows/cmake-arm-cross-build.yml/badge.svg?branch=vsf-sync" alt="cmake-arm-cross-build" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/vsf-linux/vsf.linux/actions/workflows/cmake-native-build.yml"><img src="https://github.com/vsf-linux/vsf.linux/actions/workflows/cmake-native-build.yml/badge.svg?branch=vsf-sync" alt="cmake-native-build" style="pointer-events: none;" class="inline"/></a></p>
<p><a href="https://github.com/vsfteam/vsf.demo/actions/workflows/build.yml"><img src="https://github.com/vsfteam/vsf.demo/actions/workflows/build.yml/badge.svg?branch=vsf-sync" alt="vsf.demo build" style="pointer-events: none;" class="inline"/></a></p>
<p>中文 |</p>
<p>Full name of VSF is "Versaloon Software Framework". VSF is an open-source software framework for embedded applications based on Apache2 license. VSF includes hal, a pre-emptive multi-thread kernel, services and components. VSF is implemented by C language with object-oriented programming methods(PLOOC).</p>
<h1><a class="anchor" id="autotoc_md40"></a>
Overall Framework</h1>
<h1><a class="anchor" id="autotoc_md41"></a>
Catalogue</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">document   </td><td class="markdownTableBodyNone">document    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">doxygen   </td><td class="markdownTableBodyNone">configuration of doxygen    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">example   </td><td class="markdownTableBodyNone">demo codes    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">hardware   </td><td class="markdownTableBodyNone">hardware of VSF development boards    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">patch   </td><td class="markdownTableBodyNone">some patches(for 3rd-party components, etc)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">script   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&emsp;cmake   </td><td class="markdownTableBodyNone">cmake scripts    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">source   </td><td class="markdownTableBodyNone">source code of VSF    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&emsp;component   </td><td class="markdownTableBodyNone">component(filesystem, stacks, UI, drivers, etc)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&emsp;hal   </td><td class="markdownTableBodyNone">hardware abstraction layer(ARCH support, chip drivers)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&emsp;kernel   </td><td class="markdownTableBodyNone">VSF pre-emptive/collaborative kernel    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&emsp;osa_service   </td><td class="markdownTableBodyNone">software services based on kernel    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&emsp;service   </td><td class="markdownTableBodyNone">software services    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">&emsp;shell   </td><td class="markdownTableBodyNone">shell to use application software for other systems    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">&emsp;utilities   </td><td class="markdownTableBodyNone">base software utilities(preprocessor, compiler, list, etc)   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md42"></a>
Kernel</h1>
<p>Pre-emptive kernel based on event-driven architecture, supporting mcs51, 8bit MCU, 32/64 bit ARM, riscv, x86, etc.</p>
<ul>
<li>event-driven architecture, sleep if no event occurred, lower-power naturally</li>
<li>in pre-emptive mode, task switch is implemented by hardware swi(software interrupt), priority of task is the priority of the swi.</li>
<li>pre-emptive scheduling for tasks with different priority, collaborative scheduling for tasks with the same priority</li>
<li>can run in other RTOS as a task, or as swi ISR</li>
<li>different tasks<ul>
<li>event handler task &ndash; minimum resources usage, 20 bytes ram usage for minimum configuration, 40 bytes ram usage for normal configuration</li>
<li>pt task</li>
<li>thread with dedicated stack &ndash; depending on setjmp in libc</li>
<li>fsm task</li>
<li>other tasks in shell, eg pthread</li>
</ul>
</li>
<li>IPC: semaphore, mutex, trigger, queue, etc</li>
</ul>
<h1><a class="anchor" id="autotoc_md43"></a>
Components</h1>
<ul>
<li>Reasonable framework for code re-use</li>
<li>declarative development model</li>
<li>standard interface, standard port for 3rd-party components</li>
<li>software components<ul>
<li>distbus &ndash; distributed bus framework</li>
<li>fifo</li>
<li>heap</li>
<li>json</li>
<li>pool</li>
<li>stream</li>
<li>trace</li>
</ul>
</li>
<li>Components<ul>
<li>fs &ndash; filesystem with vfs support</li>
<li>input &ndash; input sub-system</li>
<li>mal &ndash; memory abstraction layer(normally known as 'block' device)</li>
<li>scsi &ndash; SCSI device</li>
<li>tcpip &ndash; TCPIP stack and netdrv drivers</li>
<li>ui &ndash; UI and display drivers</li>
<li>usb &ndash; USB host/slave stacks</li>
<li>bt &ndash; bt stack(using btstack)</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md44"></a>
HAL – hardware abstraction layer</h1>
<ul>
<li>standard hal interface and API &ndash; eg: vsf_spi_init can be used with hardware SPI, GPIO emulated SPI, SPI from external usb device, etc</li>
<li>IP core driver &ndash; simplify porting by implement clock, reset, interrupt functions which is not provided by IP core</li>
<li>template for different intefaces and functionalities</li>
<li>interfaces<ul>
<li>PM</li>
<li>GPIO</li>
<li>SPI</li>
<li>I2C</li>
<li>PWM</li>
<li>ADC</li>
<li>SWI</li>
<li>USART</li>
<li>FLASH</li>
<li>USB</li>
<li>ethernet</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md45"></a>
Shell</h1>
<p>To use applications from other system, shell can be used.</p>
<ul>
<li>SDL &ndash; use applications based on SDL directly</li>
<li>linux &ndash; use applications based on linux directly<ul>
<li>posix</li>
<li>devfs</li>
<li>socket</li>
<li>console</li>
<li>libraries<ul>
<li>libusb</li>
<li>libgen</li>
<li>libsdl2</li>
<li>libcurl</li>
<li>etc</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md46"></a>
3rd-party</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Software   </th><th class="markdownTableHeadNone">Path   </th><th class="markdownTableHeadNone">License   </th><th class="markdownTableHeadNone">Link    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">btstack   </td><td class="markdownTableBodyNone">source/component/3rd-party/btstack/raw   </td><td class="markdownTableBodyNone">Other   </td><td class="markdownTableBodyNone"><a href="https://github.com/bluekitchen/btstack">https://github.com/bluekitchen/btstack</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">coremark   </td><td class="markdownTableBodyNone">source/component/3rd-party/coremark/raw   </td><td class="markdownTableBodyNone">Apache   </td><td class="markdownTableBodyNone"><a href="https://github.com/eembc/coremark">https://github.com/eembc/coremark</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">freetype   </td><td class="markdownTableBodyNone">source/component/3rd-party/freetype/raw   </td><td class="markdownTableBodyNone">FreeType   </td><td class="markdownTableBodyNone"><a href="https://freetype.org/">https://freetype.org/</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">zlib   </td><td class="markdownTableBodyNone">source/component/3rd-party/zlib/raw   </td><td class="markdownTableBodyNone">zlib   </td><td class="markdownTableBodyNone"><a href="http://zlib.net/">http://zlib.net/</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nuklear   </td><td class="markdownTableBodyNone">source/component/3rd-party/nuklear/raw   </td><td class="markdownTableBodyNone">MTI   </td><td class="markdownTableBodyNone"><a href="https://github.com/Immediate-Mode-UI/Nuklear">https://github.com/Immediate-Mode-UI/Nuklear</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nnom   </td><td class="markdownTableBodyNone">source/component/3rd-party/nnom/raw   </td><td class="markdownTableBodyNone">Apache 2.0   </td><td class="markdownTableBodyNone"><a href="https://github.com/majianjia/nnom">https://github.com/majianjia/nnom</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">lua   </td><td class="markdownTableBodyNone">source/component/3rd-party/lua/raw   </td><td class="markdownTableBodyNone">MIT   </td><td class="markdownTableBodyNone"><a href="https://www.lua.org/">https://www.lua.org/</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">lwip   </td><td class="markdownTableBodyNone">source/component/3rd-party/lwip/raw   </td><td class="markdownTableBodyNone">BSD   </td><td class="markdownTableBodyNone"><a href="https://savannah.nongnu.org/projects/lwip/">https://savannah.nongnu.org/projects/lwip/</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">libpng   </td><td class="markdownTableBodyNone">source/component/3rd-party/libpng/raw   </td><td class="markdownTableBodyNone">PNG2   </td><td class="markdownTableBodyNone"><a href="https://libpng.sf.net">https://libpng.sf.net</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">libjpeg-turbo   </td><td class="markdownTableBodyNone">source/component/3rd-party/libjpeg-turbo/raw   </td><td class="markdownTableBodyNone">BSD   </td><td class="markdownTableBodyNone"><a href="https://libjpeg-turbo.org/">https://libjpeg-turbo.org/</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SDL_ttf   </td><td class="markdownTableBodyNone">source/shell/media/sdl2/3rd-party/SDL_ttf   </td><td class="markdownTableBodyNone">zlib   </td><td class="markdownTableBodyNone"><a href="https://hg.libsdl.org/SDL_ttf/">https://hg.libsdl.org/SDL_ttf/</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">SDL_image   </td><td class="markdownTableBodyNone">source/shell/media/sdl2/3rd-party/SDL_image   </td><td class="markdownTableBodyNone">zlib   </td><td class="markdownTableBodyNone"><a href="https://hg.libsdl.org/SDL_image/">https://hg.libsdl.org/SDL_image/</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">lvgl   </td><td class="markdownTableBodyNone">source/component/3rd-party/lvgl/raw/lvgl   </td><td class="markdownTableBodyNone">MIT   </td><td class="markdownTableBodyNone"><a href="https://lvgl.io/">https://lvgl.io/</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">lv_lib_freetype   </td><td class="markdownTableBodyNone">source/component/3rd-party/lvgl/extension/lv_lib_freetype/raw   </td><td class="markdownTableBodyNone">MIT   </td><td class="markdownTableBodyNone"><a href="https://lvgl.io/">https://lvgl.io/</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CMSIS   </td><td class="markdownTableBodyNone">source/utilities/compiler/arm/3rd-party/CMSIS   </td><td class="markdownTableBodyNone">Apache 2.0   </td><td class="markdownTableBodyNone"><a href="https://github.com/ARM-software/CMSIS_5">https://github.com/ARM-software/CMSIS_5</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">evm   </td><td class="markdownTableBodyNone">source/component/3rd-party/evm/raw   </td><td class="markdownTableBodyNone">Apache 2.0   </td><td class="markdownTableBodyNone"><a href="https://github.com/scriptiot/evm">https://github.com/scriptiot/evm</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">LingLongGUI   </td><td class="markdownTableBodyNone">source/component/3rd-party/LingLongGUI/raw   </td><td class="markdownTableBodyNone">Apache 2.0   </td><td class="markdownTableBodyNone"><a href="https://gitee.com/gzbkey/LingLongGUI">https://gitee.com/gzbkey/LingLongGUI</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">PLOOC   </td><td class="markdownTableBodyNone">source/utilities/3rd-party/PLOOC/raw   </td><td class="markdownTableBodyNone">Apache 2.0   </td><td class="markdownTableBodyNone"><a href="https://github.com/GorgonMeducer/PLOOC">https://github.com/GorgonMeducer/PLOOC</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">mbedtls   </td><td class="markdownTableBodyNone">source/component/3rd-party/mbedtls/raw   </td><td class="markdownTableBodyNone">Apache 2.0   </td><td class="markdownTableBodyNone"><a href="https://tls.mbed.org/">https://tls.mbed.org/</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">GuiLite   </td><td class="markdownTableBodyNone">source/component/3rd-party/GuiLite/raw   </td><td class="markdownTableBodyNone">Apache 2.0   </td><td class="markdownTableBodyNone"><a href="https://github.com/idea4good/GuiLite">https://github.com/idea4good/GuiLite</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Segger_RTT   </td><td class="markdownTableBodyNone">source/component/3rd-party/segger/raw/RTT   </td><td class="markdownTableBodyNone">segger   </td><td class="markdownTableBodyNone"><a href="https://wiki.segger.com/RTT">https://wiki.segger.com/RTT</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Segger_SystemView   </td><td class="markdownTableBodyNone">source/component/3rd-party/segger/raw/SystemView   </td><td class="markdownTableBodyNone">segger   </td><td class="markdownTableBodyNone"><a href="https://wiki.segger.com/SystemView">https://wiki.segger.com/SystemView</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nuconsole   </td><td class="markdownTableBodyNone">source/component/3rd-party/nuconsole/raw   </td><td class="markdownTableBodyNone">nuvoton   </td><td class="markdownTableBodyNone"><a href="https://www.nuvoton.com.cn/">https://www.nuvoton.com.cn/</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">AIC8800M_SDK   </td><td class="markdownTableBodyNone">source/hal/driver/AIC/AIC8800/vendor   </td><td class="markdownTableBodyNone">aic   </td><td class="markdownTableBodyNone"><a href="http://www.aicsemi.com/">http://www.aicsemi.com/</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">awtk   </td><td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">LGPL 2.1   </td><td class="markdownTableBodyNone"><a href="https://www.zlg.cn/index/pub/awtk.html">https://www.zlg.cn/index/pub/awtk.html</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">littlefs   </td><td class="markdownTableBodyNone">source/component/3rd-party/littlefs/raw   </td><td class="markdownTableBodyNone">BSD   </td><td class="markdownTableBodyNone"><a href="https://github.com/littlefs-project/littlefs">https://github.com/littlefs-project/littlefs</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">getopt_long   </td><td class="markdownTableBodyNone">source/shell/sys/linux/lib/3rd-party/getopt   </td><td class="markdownTableBodyNone">OpenBSD   </td><td class="markdownTableBodyNone"><a href="https://github.com/openbsd/src">https://github.com/openbsd/src</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">regex   </td><td class="markdownTableBodyNone">source/shell/sys/linux/lib/3rd-party/regex   </td><td class="markdownTableBodyNone">OpenBSD   </td><td class="markdownTableBodyNone"><a href="https://github.com/openbsd/src">https://github.com/openbsd/src</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">fnmatch   </td><td class="markdownTableBodyNone">source/shell/sys/linux/lib/3rd-party/fnmatch   </td><td class="markdownTableBodyNone">BSD   </td><td class="markdownTableBodyNone"><a href="http://www.jbox.dk/sanos/source/lib/fnmatch.c.html">http://www.jbox.dk/sanos/source/lib/fnmatch.c.html</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">glob   </td><td class="markdownTableBodyNone">source/shell/sys/linux/lib/3rd-party/glob   </td><td class="markdownTableBodyNone">BSD   </td><td class="markdownTableBodyNone"><a href="https://github.com/cloudius-systems/musl">https://github.com/cloudius-systems/musl</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">setjmp   </td><td class="markdownTableBodyNone">source/hal/arch/x86/win   </td><td class="markdownTableBodyNone">BSD   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">libtuv   </td><td class="markdownTableBodyNone">source/shell/sys/linux/lib/3rd-party/libtuv/raw   </td><td class="markdownTableBodyNone">Apache 2.0   </td><td class="markdownTableBodyNone"><a href="https://github.com/Samsung/libtuv">https://github.com/Samsung/libtuv</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">scgui   </td><td class="markdownTableBodyNone"><a class="el" href="scgui_8c.html">source/component/ui/tgui/view/scgui_view/scgui.c</a>&amp;h   </td><td class="markdownTableBodyNone">MIT   </td><td class="markdownTableBodyNone"><a href="https://gitee.com/li_yucheng/scgui">https://gitee.com/li_yucheng/scgui</a>   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div style="text-align: center; font-size: small; margin-top: 20px;">
  由提交
  <a href="https://github.com/vsfteam/vsf/commit/afe07a79470464f236d5c6af2d6c9c12d7a05d59" target="_blank">vsfteam/vsf@afe07a7</a>
  生成
</div>